import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{c as l}from"./utils.BpMRZbEX.js";import{R as f,r}from"./index.D6whbu08.js";import{u as k}from"./use-reduced-motion.BKjon5lW.js";import{m as u}from"./proxy.C2vk4wBE.js";import{A as E}from"./index.s74VRsaB.js";import{a as p,h as I}from"./app.Bk0M9xuT.js";import{e as C,f as O,g as _}from"./index.02QQZwjl.js";import"./_commonjsHelpers.CqkleIqs.js";import"./index.3whys8t3.js";const y=({options:a,defaultValue:d,onChange:o,className:m,id:w,indicateClass:R,itemClass:v,value:i})=>{const[x,g]=r.useState(()=>i??d??a[0]?.value??""),e=k(),j=r.useCallback(t=>{g(t),o?.(t)},[o]),N=r.useCallback(t=>x===t,[x]);return r.useEffect(()=>{i&&g(i)},[i]),s.jsx("div",{className:l("flex w-fit cursor-pointer select-none rounded-sm bg-muted p-1 font-semibold text-xs backdrop-blur-lg",m),children:a.map(t=>{if(!t)return null;const{label:b,value:c,icon:h}=t,n=N(c);return s.jsxs(u.div,{className:l("relative flex-center cursor-pointer gap-1.5 px-3 py-1 first:rounded-l-xs last:rounded-r-xs",{"text-primary-foreground":n},{"opacity-50":!n},v),onClick:()=>j(c),layout:!e,transition:e?{duration:0}:{type:"spring",stiffness:400,damping:30},children:[h&&s.jsx("span",{className:"flex-center shrink-0",children:f.createElement(h,{className:"w-4 h-4"})}),s.jsx(E,{initial:!1,mode:"wait",children:n&&b&&s.jsx(u.span,{initial:e?void 0:{width:0,opacity:0},animate:{width:"auto",opacity:1},exit:e?void 0:{width:0,opacity:0},transition:e?{duration:0}:{width:{duration:.2,ease:"easeInOut"},opacity:{duration:.15,ease:"easeInOut"}},className:"overflow-hidden whitespace-nowrap",children:b})}),n&&s.jsx(u.div,{layoutId:`segmented_selected_bg_${w??"default"}`,className:l("absolute inset-0 -z-10 rounded-sm bg-gradient-shoka-button",R),transition:e?{duration:0}:{type:"spring",stiffness:400,damping:30},style:{willChange:e?"auto":"transform"}})]},c)})})};f.memo(y);const S=({className:a,...d})=>{const o=[{label:"站点概览",value:p.INFO,icon:C},{label:"文章目录",value:p.DIRECTORY,icon:O},{label:"系列文章",value:p.SERIES,icon:_}];return s.jsx(y,{...d,options:o,className:l("flex w-fit cursor-pointer select-none rounded-sm bg-black/8 p-1 font-semibold text-xs backdrop-blur-lg",a),onChange:m=>I.set(m)})};S.displayName="HomeSiderSegmented";const Y=f.memo(S);export{Y as default};
