import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{s as d,c as m}from"./utils.BpMRZbEX.js";import{r as h}from"./index.D6whbu08.js";import"./_commonjsHelpers.CqkleIqs.js";function N({allPosts:o,relatedPosts:a,leftCount:t,rightCount:i}){const{leftPosts:c,rightPosts:n,hasRelatedPosts:l}=h.useMemo(()=>{const s=a.length>0,r=d(o);return{leftPosts:r.slice(0,t),rightPosts:s?a:r.slice(t,t+i),hasRelatedPosts:s}},[o,a,t,i]),x=l?"相关文章":"";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h2",{className:"font-semibold text-2xl text-foreground/80",children:"随机文章"}),e.jsx("div",{className:"flex flex-col gap-2",children:c.map((s,r)=>e.jsxs("a",{href:`/post/${s.link??s.slug}`,className:"group flex gap-3 rounded-md p-2 text-sm transition-colors duration-300 hover:bg-foreground/5 hover:text-primary",children:[e.jsx("span",{className:"shrink-0 font-mono text-foreground/30",children:r+1}),e.jsxs("div",{className:"flex min-w-0 flex-col gap-0.5",children:[s.categoryName&&e.jsx("div",{className:"truncate text-foreground/50 text-xs",children:s.categoryName}),e.jsx("div",{className:"line-clamp-2 text-foreground/80 transition-colors group-hover:text-primary",children:s.title})]})]},s.slug))})]}),n.length>0&&e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h2",{className:"font-semibold text-2xl text-foreground/80",children:x}),e.jsx("div",{className:m("flex flex-col gap-2",{"-mt-4 pt-12 md:-mt-5 md:pt-0":!l}),children:n.map((s,r)=>e.jsxs("a",{href:`/post/${s.link??s.slug}`,className:"group flex gap-3 rounded-md p-2 text-sm transition-colors duration-300 hover:bg-foreground/5 hover:text-primary",children:[e.jsx("span",{className:"shrink-0 font-mono text-foreground/30",children:r+(l?1:t+1)}),e.jsxs("div",{className:"flex min-w-0 flex-col gap-0.5",children:[s.categoryName&&e.jsx("div",{className:"truncate text-foreground/50 text-xs",children:s.categoryName}),e.jsx("div",{className:"line-clamp-2 text-foreground/80 transition-colors group-hover:text-primary",children:s.title})]})]},s.slug))})]})]})}export{N as default};
